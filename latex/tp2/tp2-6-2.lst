C:\Documents and Settings\dubusleo_UJF\Mes documents\µC\tp2-6-2.lst - generated by MGTEK Assembler ASM12 V1.26 Build 144 for WIN32 (x86) - Mon Mar 23 17:41:11 2015

    1:          =00001000              CODE    EQU     $1000
    2:          =00002000              DATA    EQU     $2000
    3:          =00000003              DDRB    EQU     $0003
    4:          =00000001              PORTB   EQU     $0001
    5:          =00000002              DDRA    EQU     $0002
    6:          =00000000              PORTA   EQU     $0000
    7:          =000000FF              SORTIE  EQU     $FF
    8:          =00000000              ENTREE  EQU     $00
    9:                                 
   10:          =00002000                      ORG     DATA
   11:     2000 08                     TAILLE  DC.B    8
   12:     2001 FE FD FB F7 EF DF      EMPIL   DC.B    %11111110,%11111101,%11111011,%11110111,%11101111,%11011111,%10111111,%01111111
           2007 BF 7F 
   13:     2009 7E 7D 7B 77 6F 5F              DC.B    %01111110,%01111101,%01111011,%01110111,%01101111,%01011111,%00111111
           200F 3F 
   14:     2010 3E 3D 3B 37 2F 1F              DC.B    %00111110,%00111101,%00111011,%00110111,%00101111,%00011111
   15:     2016 1E 1D 1B 17 0F                 DC.B    %00011110,%00011101,%00011011,%00010111,%00001111
   16:     201B 0E 0D 0B 07                    DC.B    %00001110,%00001101,%00001011,%00000111
   17:     201F 06 05 03                       DC.B    %00000110,%00000101,%00000011
   18:     2022 02 01                          DC.B    %00000010,%00000001
   19:     2024 00                             DC.B    %00000000
   20:                                 
   21:          =00001000                      ORG     CODE
   22:     1000 86 FF                          LDAA    #SORTIE ;On initialise le port B en sortie
   23:     1002 5A 03                          STAA    DDRB
   24:                                 
   25:     1004 CE 2001                MAIN    LDX     #EMPIL
   26:     1007 A6 30                  BOUCLE  LDAA    1,X+
   27:     1009 5A 01                          STAA    PORTB
   28:                                         
   29:     100B 07 06                          BSR     TEMPO
   30:     100D 81 00                          CMPA    #$00
   31:     100F 26 F6                          BNE     BOUCLE
   32:     1011 20 F1                          BRA     MAIN
   33:                                         
   34:                                 
   35:                                 *-- TEMPORISATION -----------------------------------
   36:     1013 C6 FA                  TEMPO   LDAB    #$FA    ;On commence la tempo
   37:     1015 CD 0FFF                REC2    LDY     #$0FFF  ;Tempo à 50 000
   38:     1018 03                     REC1    DEY
   39:     1019 26 FD                          BNE     REC1
   40:     101B 53                             DECB
   41:     101C 26 F7                          BNE     REC2
   42:     101E A7                             NOP             ;Tempo fini
   43:     101F 3D                             RTS
   44:                                 *----------------------------------------------------

Symbols:
boucle                          *00001007
code                            *00001000
data                            *00002000
ddrb                            *00000003
empil                           *00002001
main                            *00001004
portb                           *00000001
rec1                            *00001018
rec2                            *00001015
sortie                          *000000ff
tempo                           *00001013

