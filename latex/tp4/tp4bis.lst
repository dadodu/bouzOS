C:\Documents and Settings\micro\Mes documents\µC\dubus\tp4\tp4bis.lst - generated by MGTEK Assembler ASM12 V1.26 Build 144 for WIN32 (x86) - Wed Oct 10 22:03:09 2012

    1:          =00001000                   CODE    EQU     $1000
    2:          =00002000                   DATA    EQU     $2000
    3:          =00000260                   PTH     EQU     $0260
    4:          =00000262                   DDRH    EQU     $0262
    5:          =00000264                   PERH    EQU     $0264
    6:          =00000265                   PPSH    EQU     $0265
    7:          =00000266                   PIEH    EQU     $0266
    8:          =00000267                   PIFH    EQU     $0267
    9:          =00000001                   PORTB   EQU     $0001
   10:          =00000003                   DDRB    EQU     $0003
   11:                                      
   12:          =00002000                           ORG     DATA
   13:     2000 +0001                       COMPT   DS.B    1
   14:                                      
   15:          =00001000                           ORG     CODE
   16:     1000 1410                   [01] INIT    SEI             ;Initialisation des paramètres
   17:     1002 CC 102D                [02]         LDD     #IT     ;On charge l'adresse de l'interruption
   18:     1005 7C 3E4C                [03]         STD     $3E4C   ;Pourla stocker dans le vecteur d'interruption du port H
   19:                                      
   20:     1008 86 FF                  [01]         LDAA    #$FF    ;On charge $FF
   21:     100A C6 00                  [01]         LDAB    #$00    ;On charge $00
   22:                                      
   23:     100C 7B 0262                [03]         STAB    DDRH    
   24:     100F 7A 0264                [03]         STAA    PERH
   25:     1012 7B 0265                [03]         STAB    PPSH
   26:                                      
   27:     1015 7A 0266                [03]         STAA    PIEH
   28:                                              
   29:     1018 10EF                   [01]         CLI
   30:                                      
   31:     101A 5A 03                  [02]         STAA    DDRB
   32:     101C 86 00                  [01]         LDAA    #$00
   33:     101E 7A 2000                [03]         STAA    COMPT
   34:                                      
   35:     1021 F6 2000                [03] BOUCLE  LDAB    COMPT
   36:     1024 51                     [01]         COMB
   37:     1025 5B 01                  [02]         STAB    PORTB
   38:     1027 51                     [01]         COMB
   39:     1028 C1 05                  [01]         CMPB    #$05
   40:     102A 26 F5                  [03]         BNE     BOUCLE
   41:                                      
   42:     102C 3F                     [09]         SWI
   43:                                      
   44:     102D 72 2000                [04] IT      INC     COMPT
   45:     1030 86 FF                  [01]         LDAA    #$FF
   46:     1032 7A 0267                [03]         STAA    PIFH
   47:     1035 20 01                  [03]         BRA     TEMPO
   48:     1037 0B                     [08] FIN_IT  RTI
   49:                                              
   50:     1038 86 FA                  [01] TEMPO   LDAA    #$FA
   51:     103A CE 03E7                [02] REC2    LDX     #$03E7
   52:     103D 09                     [01] REC1    DEX
   53:     103E 26 FD                  [03]         BNE     REC1
   54:     1040 43                     [01]         DECA
   55:     1041 26 F7                  [03]         BNE     REC2
   56:     1043 A7                     [01]         NOP
   57:     1044 20 F1                  [03]         BRA     FIN_IT
   58:                                              

Symbols:
boucle                          *00001021
code                            *00001000
compt                           *00002000
data                            *00002000
ddrb                            *00000003
ddrh                            *00000262
fin_it                          *00001037
it                              *0000102d
perh                            *00000264
pieh                            *00000266
pifh                            *00000267
portb                           *00000001
ppsh                            *00000265
rec1                            *0000103d
rec2                            *0000103a
tempo                           *00001038

