C:\Documents and Settings\dubusleo_ujf\Mes documents\µC\tp3-2b.lst - generated by MGTEK Assembler ASM12 V1.26 Build 144 for WIN32 (x86) - Thu Apr 09 11:18:30 2015

    1:          =00001000              CODE    EQU     $1000
    2:          =00002000              DATA    EQU     $2000
    3:          =0000EE84              GETCHAR EQU     $EE84
    4:          =0000EE86              PUTCHAR EQU     $EE86
    5:          =000000CC              SCI0SR1 EQU     $CC
    6:          =000000CF              SCI0DRL EQU     $CF
    7:                                 
    8:          =00002000                      ORG     DATA
    9:     2000 +0001                  VAR     DS.B    1
   10:                                 
   11:          =00001000                      ORG     CODE
   12:     1000 86 02                          LDAA    #$02
   13:     1002 7A 2000                        STAA    VAR
   14:     1005 07 01                          BSR     SCRUT
   15:     1007 3F                             SWI
   16:                                 
   17:     1008 07 37                  SCRUT   BSR     AUVOL
   18:     100A C1 2B                          CMPB    #'+'
   19:     100C 27 1B                          BEQ     INCREM
   20:     100E C1 2D                          CMPB    #'-'
   21:     1010 27 1C                          BEQ     DECREM
   22:     1012 C1 1B                          CMPB    #$1B
   23:     1014 27 34                          BEQ     FIN
   24:                                 
   25:     1016 C6 49                          LDAB    #'I'
   26:     1018 15 FB DE6A                     JSR     [PUTCHAR,PCR]
   27:     101C 07 15                          BSR     TEMPO
   28:     101E C6 08                          LDAB    #$08
   29:     1020 15 FB DE62                     JSR     [PUTCHAR,PCR]
   30:     1024 07 0D                          BSR     TEMPO
   31:                                 
   32:     1026 20 E0                          BRA     SCRUT
   33:     1028 3D                             RTS
   34:                                         
   35:     1029 72 2000                INCREM  INC     VAR
   36:     102C 20 DA                          BRA     SCRUT
   37:                                 
   38:     102E 73 2000                DECREM  DEC     VAR
   39:     1031 20 D5                          BRA     SCRUT
   40:                                         
   41:                                 
   42:                                 *-- TEMPORISATION -----------------------------------
   43:     1033 B6 2000                TEMPO   LDAA    VAR     ;On commence la tempo
   44:     1036 CD FFFF                REC2    LDY     #$FFFF  ;Tempo à 50 000
   45:     1039 03                     REC1    DEY
   46:     103A 26 FD                          BNE     REC1
   47:     103C 43                             DECA
   48:     103D 26 F7                          BNE     REC2
   49:     103F A7                             NOP             ;Tempo fini
   50:     1040 3D                             RTS
   51:                                 *----------------------------------------------------
   52:                                 
   53:     1041 4F CC 20 04            AUVOL   BRCLR   SCI0SR1,#$20,VIDE
   54:     1045 D6 CF                          LDAB    SCI0DRL
   55:     1047 20 01                          BRA     FIN
   56:                                 
   57:     1049 C7                     VIDE    CLRB
   58:                                 
   59:     104A 3D                     FIN     RTS

Symbols:
auvol                           *00001041
code                            *00001000
data                            *00002000
decrem                          *0000102e
fin                             *0000104a
increm                          *00001029
putchar                         *0000ee86
rec1                            *00001039
rec2                            *00001036
sci0drl                         *000000cf
sci0sr1                         *000000cc
scrut                           *00001008
tempo                           *00001033
var                             *00002000
vide                            *00001049

